<ion-header>
  <ion-toolbar>
    <ion-title>Available Cars</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="goToProfile()">
        <ion-icon name="person-circle"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>

  <!-- Search Bar -->
  <ion-toolbar>
    <ion-searchbar 
      [(ngModel)]="searchQuery" 
      (ionChange)="applyFilters()"
      placeholder="Search by make, model or location"
      animated
      debounce="300"
    ></ion-searchbar>
  </ion-toolbar>
  
</ion-header>

<ion-content>
  <ion-loading [isOpen]="isLoading"></ion-loading>

  <!-- Empty state -->
  <div class="empty-state" *ngIf="!isLoading && cars.length === 0">
    <ion-icon name="car-sport-outline"></ion-icon>
    <h2>No Cars Available</h2>
    <p>Check back later for available vehicles</p>
  </div>

  <!-- Car cards -->
  <div class="car-grid">
    <ion-card *ngFor="let car of cars" class="car-card" [routerLink]="['/car', car.id]">
      <img [src]="car.images?.[0] || 'assets/default-car.jpg'" alt="{{car.make_model}}">
      <ion-card-header>
        <ion-card-title>{{car.make_model}}</ion-card-title>
        <ion-card-subtitle>
          {{car.year}} • {{car.car_type}} • {{car.seats}} seats
        </ion-card-subtitle>
      </ion-card-header>
      
      <ion-card-content>
        <div class="car-details">
          <div class="price">
            <ion-text color="primary">
              <h3>${{car.price_per_day}}/day</h3>
            </ion-text>
          </div>
          
          <div class="owner">
            <ion-icon name="person-circle-outline"></ion-icon>
            <ion-label>{{car.ownerName}}</ion-label>
          </div>
          
          <div class="features" *ngIf="car.features?.length">
            <ion-chip *ngFor="let feature of car.features" outline="true">
              <ion-label>{{feature}}</ion-label>
            </ion-chip>
          </div>
        </div>
        
        <ion-button expand="block" fill="solid" (click)="goToDetails()">Details</ion-button>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>